<!DOCTYPE html>
<html>
<head>	
<meta charset="ISO-8859-1">
<title>Enviro365 Investments - Index</title>
 <link rel="stylesheet" href="css/style.css" type="text/css">
<link href="css/bootstrap.min.css" rel ="stylesheet" type="text/css" />
<link href="css/font-awesome.min.css" rel ="stylesheet" type="text/css" />
</head>
<body>
	<div class="navbar">
		<p><a href = "index.html" class="brand">Enviro365  </a> <em style="color:blue">	- Investment Services</em></p>
	</div>
	
		
		
				<div class = "add-form col-lg-8">
					<form id = "form" >
					<p>Personal Information</p>
						<div class = "form-group">
							<input id = "id_number" type = "text" class = "form-control text-center" placeholder="ID Number" name = "id_number" />
						</div>
						<div class = "form-group">
							<input id = "first_name" type = "text" class = "form-control text-center" placeholder="First Name" name = "first_name" />
						</div>
						<div class = "form-group">
							<input id = "surname" type = "text" class = "form-control text-center" placeholder="Surname" name = "surname" />
						</div>
						<div  class = "form-group">
							<label class = "form-label">Date of birth</label>
							<input id = "date_of_birth" type = "date" class = "form-control text-center" name = "date_of_birth" />
						</div>
						<div class = "form-group">
						<select id = "gender" name = "gender" class = "form-control">
						
						</select>	
						</div>
						
						<hr/>
						<p>Contact Details</p>
						<div class = "form-group">
							<input id = "contact_numbers" type = "text" class = "form-control text-center" name = "contact_numbers" placeholder = "Tel eg) (+27) 60 8585 764" />
						</div>
						<div class = "form-group">
							<input id = "email" type = "text" class = "form-control text-center" name = "email" placeholder = "johndoe@gmail.com" />
						</div>
						<hr/>
						<p>Address Information</p>
						<div class = "form-group">
							<input id = "street_number" type = "text" class = "form-control text-center" name = "street_number" placeholder = "eg) 21 Dam Drive" />
						</div>
						<div class = "form-group">
							<input id = "suburb" type = "text" class = "form-control text-center" name = "suburb" placeholder = "Ifafi" />
						</div>
						<div class = "form-group">
							<input id = "town" type = "text" class = "form-control text-center" name = "Town" placeholder = "Hartbeesport" />
						</div>
						<div class = "form-group">
							<input id = "country" type = "text" class = "form-control text-center" name = "country" placeholder = "South Africa" />
						</div>
						<div class = "form-group">
							<input id = "code" type = "number" class = "form-control text-center" name = "code" placeholder = "0260" />
						</div>
						<div class = "form-group">
							<button type="submit" class = "btn btn-dark btn-block"><i class = "fa fa-save"></i></button>
						</div>
						</form>
				</div>
	
	<footer>
		<p>Copyright 2023 All rights reserved -  <a href ="http://www.github.com/Justinldub">Justin Dube</a></p>
	</footer>
	
	</div>	
	
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<script>
	$(document).ready(function(){
		$("#form").submit(function(event){
			event.preventDefault();
			let investor = {
				id_number: $("#id_number").val(),
				first_name : $("#first_name").val(),
				surname : $("#surname").val(),
				date_of_birth : $("#date_of_birth").val(),
				gender : $("#gender").val(),
				contact_numbers: $("#contact_numbers").val(),
				email : $("#email").val(),
				address:{
					street_number : $("#street_number").val(),
					suburb : $("#suburb").val(),
					town : $("#town").val(),
					country : $("#country").val(),
					code : $("#code").val(),
				}
			}
			$.ajax({
				url :"http://localhost:8080/api/save-investor",
				dataType:"json",
			 	headers:{
					 "Content-Type" : "application/json"
				 },
				type : "post",
				data:JSON.stringify(investor),
				success : function(data){
					console.log(data);
				},
				error : function(err){
					console.log(err);
				}
			})
		});
		
		
			$.ajax({
    		url:"http://localhost:8080/api/get-genders",
    		type:"GET",
    		dataType:"json",
    		success:function(data){
    		//	console.log(data);
    			$("#gender").appendHtml;
    			for(var i = 0;i <= data.length - 1; i++){
    				console.log(data[i]);
    				var opt = $('<option></option>');
    				opt.attr('value',data[i]).text(data[i]);
    				$("#gender").append(opt);
    				
    			}
    			
    		},
    		error:function(message){
    			console.log(message);
    		}
    	});
		
	});
</script>

</body>
</html>




